# üìù –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è structure –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

## ‚úÖ –©–æ –∑–º—ñ–Ω–µ–Ω–æ:

### –ü—Ä–æ–±–ª–µ–º–∞:
```json
{
  "text": "App keeps freezing\n\nApp freezes too much...\n\n–û–ø–∏—Å: –î–æ–¥–∞—Ç–æ–∫ –∑–∞–≤–∏—Å–∞—î –ø—ñ–¥ —á–∞—Å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è."
}
```
- –¢–µ–∫—Å—Ç —ñ –æ–ø–∏—Å –±—É–ª–∏ —Ä–∞–∑–æ–º –≤ –æ–¥–Ω–æ–º—É –ø–æ–ª—ñ
- –ù–µ–∑—Ä—É—á–Ω–æ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É

### –†—ñ—à–µ–Ω–Ω—è:
```json
{
  "text": "App keeps freezing\n\nApp freezes too much and kicks you out in the middle of an order",
  "llm_description": "–î–æ–¥–∞—Ç–æ–∫ –∑–∞–≤–∏—Å–∞—î –ø—ñ–¥ —á–∞—Å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è.",
  "category": ["–±–∞–≥–∏", "—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å"]  // –¢–∞–∫–æ–∂ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –º–∞—Å–∏–≤
}
```

---

## üîç –Ø–∫ –ø—Ä–∞—Ü—é—î –ø–æ—à—É–∫ (RAG):

### –í ChromaDB –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è (–¥–ª—è embedding):
```
"App keeps freezing

App freezes too much...

–û–ø–∏—Å: –î–æ–¥–∞—Ç–æ–∫ –∑–∞–≤–∏—Å–∞—î –ø—ñ–¥ —á–∞—Å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è."
```

**–ß–æ–º—É —Ä–∞–∑–æ–º?**
- ‚úÖ –ü–æ—à—É–∫ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –∞–Ω–≥–ª—ñ–π—Å—å–∫—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ
- ‚úÖ –ü–æ—à—É–∫ –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—é –∑–Ω–∞—Ö–æ–¥–∏—Ç—å —É–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –æ–ø–∏—Å–∏
- ‚úÖ –ë–∞–≥–∞—Ç–æ–º–æ–≤–Ω–∏–π semantic search
- ‚úÖ LLM –∫—Ä–∞—â–µ —Ä–æ–∑—É–º—ñ—î –∫–æ–Ω—Ç–µ–∫—Å—Ç

**–ü—Ä–∏–∫–ª–∞–¥:**
```python
search_comments("–∑–∞–≤–∏—Å–∞—î –¥–æ–¥–∞—Ç–æ–∫")
# Embedding —Å—Ö–æ–∂–∏–π –Ω–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫—É —á–∞—Å—Ç–∏–Ω—É "–î–æ–¥–∞—Ç–æ–∫ –∑–∞–≤–∏—Å–∞—î"
# ‚úÖ –ó–Ω–∞—Ö–æ–¥–∏—Ç—å –∫–æ–º–µ–Ω—Ç–∞—Ä –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—é!
```

---

### –í API –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è (–æ–∫—Ä–µ–º–æ):
```json
{
  "text": "App keeps freezing...",  // –¢—ñ–ª—å–∫–∏ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π –∫–æ–º–µ–Ω—Ç–∞—Ä
  "llm_description": "–î–æ–¥–∞—Ç–æ–∫ –∑–∞–≤–∏—Å–∞—î –ø—ñ–¥ —á–∞—Å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è."  // –û–ø–∏—Å –æ–∫—Ä–µ–º–æ
}
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ –§—Ä–æ–Ω—Ç–µ–Ω–¥ –º–æ–∂–µ –ø–æ–∫–∞–∑–∞—Ç–∏ —Ç–µ–∫—Å—Ç —ñ –æ–ø–∏—Å –æ–∫—Ä–µ–º–æ
- ‚úÖ –ó—Ä—É—á–Ω–æ –¥–ª—è UI (–æ—Ä–∏–≥—ñ–Ω–∞–ª + –ø–µ—Ä–µ–∫–ª–∞–¥/–ø–æ—è—Å–Ω–µ–Ω–Ω—è)
- ‚úÖ –ü–æ—à—É–∫ –ø—Ä–∞—Ü—é—î –ø–æ –æ–±–æ—Ö —á–∞—Å—Ç–∏–Ω–∞—Ö

---

## üìä –ü—Ä–∏–∫–ª–∞–¥ response:

### `/api/reviews/filter`
```json
{
  "success": true,
  "data": [
    {
      "id": "02a50eb2-c95d-4ff7-8da1-f808b089f299",
      "text": "App keeps freezing\n\nApp freezes too much and kicks you out in the middle of an order",
      "llm_description": "–î–æ–¥–∞—Ç–æ–∫ –∑–∞–≤–∏—Å–∞—î –ø—ñ–¥ —á–∞—Å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è.",
      "platform": "app_store",
      "sentiment": "negative",
      "severity": "critical",
      "category": ["–±–∞–≥–∏", "—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å"],
      "rating": 1,
      "timestamp": "2025-08-02T00:00:00",
      "backlink": "https://apps.apple.com/app/id547951480"
    }
  ]
}
```

### `/api/search/comments`
–¢–∞–∫–æ–∂ –ø–æ–≤–µ—Ä—Ç–∞—î `llm_description` –æ–∫—Ä–µ–º–æ.

---

## üé® –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ:

```jsx
function ReviewCard({ review }) {
  return (
    <div className="review-card">
      {/* –û—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π —Ç–µ–∫—Å—Ç */}
      <blockquote className="review-text">
        {review.text}
      </blockquote>
      
      {/* –û–ø–∏—Å –≤—ñ–¥ AI (—è–∫—â–æ —î) */}
      {review.llm_description && (
        <div className="ai-summary">
          <span className="ai-icon">ü§ñ</span>
          <p>{review.llm_description}</p>
        </div>
      )}
      
      {/* –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó */}
      <div className="categories">
        {review.category.map(cat => (
          <span key={cat} className="badge">{cat}</span>
        ))}
      </div>
      
      {/* Metadata */}
      <div className="meta">
        <span className={`severity-${review.severity}`}>
          {review.severity}
        </span>
        <span>{review.platform}</span>
        <span>{review.rating}/5</span>
      </div>
    </div>
  );
}
```

---

## üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ:

### –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ ChromaDB:
```python
# –î–ª—è embedding (–ø–æ—à—É–∫)
full_text = f"{body}\n\n–û–ø–∏—Å: {llm_description}"
documents=[full_text]

# –í metadata (–æ–∫—Ä–µ–º–æ –¥–ª—è –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è)
metadata["llm_description"] = llm_description[:500]
```

### –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –∑ API:
```python
# –†–æ–∑–¥—ñ–ª—è—î–º–æ —Ç–µ–∫—Å—Ç –≤—ñ–¥ –æ–ø–∏—Å—É
text_only = doc.split("\n\n–û–ø–∏—Å:")[0]

# –û–ø–∏—Å –∑ metadata
llm_desc = metadata.get("llm_description", "")

return {
    "text": text_only,
    "llm_description": llm_desc,
    ...
}
```

---

## ‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏ —Ü—å–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É:

1. **–ö—Ä–∞—â–∏–π –ø–æ—à—É–∫ (RAG)**
   - –ë–∞–≥–∞—Ç–æ–º–æ–≤–Ω–∏–π —Å–µ–º–∞–Ω—Ç–∏—á–Ω–∏–π –ø–æ—à—É–∫
   - –ó–Ω–∞—Ö–æ–¥–∏—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –Ω–∞–≤—ñ—Ç—å —Ä—ñ–∑–Ω–∏–º–∏ –º–æ–≤–∞–º–∏

2. **–ß–∏—Å—Ç–∏–π API response**
   - –¢–µ–∫—Å—Ç —ñ –æ–ø–∏—Å –æ–∫—Ä–µ–º–æ
   - –ó—Ä—É—á–Ω–æ –¥–ª—è UI

3. **–ì–Ω—É—á–∫—ñ—Å—Ç—å –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É**
   - –ú–æ–∂–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ —Ç–µ–∫—Å—Ç
   - –ê–±–æ —Ç–µ–∫—Å—Ç + AI summary
   - –ê–±–æ –ø–µ—Ä–µ–º–∏–∫–∞—Ç–∏ –º—ñ–∂ –Ω–∏–º–∏

4. **–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è**
   - –û–ø–∏—Å –æ–±–º–µ–∂–µ–Ω–∏–π 500 —Å–∏–º–≤–æ–ª–∞–º–∏ –≤ metadata
   - –ü–æ–≤–Ω–∏–π –æ–ø–∏—Å –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –≤ embedding

---

## üöÄ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä:
- ‚úÖ `text` - —á–∏—Å—Ç–∏–π –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π –∫–æ–º–µ–Ω—Ç–∞—Ä
- ‚úÖ `llm_description` - AI –æ–ø–∏—Å –æ–∫—Ä–µ–º–æ
- ‚úÖ `category` - –º–∞—Å–∏–≤ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π
- ‚úÖ –ü–æ—à—É–∫ –ø—Ä–∞—Ü—é—î –ø–æ –æ–±–æ—Ö –ø–æ–ª—è—Ö
- ‚úÖ –ë–∞–≥–∞—Ç–æ–º–æ–≤–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞

**–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä —ñ –ø—Ä–æ—Ç–µ—Å—Ç—É–π!**
